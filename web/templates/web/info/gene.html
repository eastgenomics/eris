{% extends "base.html" %}

{% block content %}
<div class="container mb-5">
    <div class="row">
        <div class="col">
            {% if gene %}
            <h1>{{ gene.hgnc_id }}</h1>
            <h4>{{ gene.gene_symbol }}</h4>
            {% if gene.alias_symbols %}
                <h4>alias symbols: {{ gene.alias_symbols }}</h4>
            {% else %}
                <h4>alias symbols: None</h4>
            {% endif %}
            <h4>alias name: None</h4>
            <h5>database id: {{ gene.id }}</h5>
            {% else %}
            <h1>Gene Does Not Exist.</h1>
            {% endif %}
        </div>
    </div>
    <br>
    <div class="row">
        <h3>Associated Panels</h3>
        {% if panels %}
        <div class="col">
            <table class="table table-striped table-bordered">
                <thead>
                  <tr>
                    <th>Panel</th>
                    <th>Active</th>
                  </tr>
                </thead>
                <tbody>
                    {% for panel in panels %}
                    <tr>
                        <td><a href="{% url 'panel' panel.panel_id %}">{{ panel.panel_id__panel_name }}</a></td>
                        <td>True</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="col">
            <div class="alert alert-info" role="alert">
                Nothing to show here!
            </div>
        </div>
        {% endif %}
    </div>

    <div class="row mt-2">
        <h3 class="mt">Transcripts</h3>
        <div class="col">
            <table class="table table-bordered table-striped shadow pt-2" id="transcriptTable">
                <thead class="table-success">
                  <tr>
                    <th scope="col">Transcript</th>
                    <th scope="col">Source</th>
                    <th scope="col">Reference Genome</th>
                    <th scope="col">Clinical</th>
                  </tr>
                </thead>
                <tbody>
                    {% for transcript in transcripts %}
                    <tr>
                        <td>{{ transcript.transcript_id__transcript }}</td>
                        {% if transcript.release_id__source_id__source %}
                        <td><span class="badge text-bg-info">{{ transcript.release_id__source_id__source }}</span></td>
                        {% else %}
                        <td>{{ transcript.release_id__source_id__source }}</td>
                        {% endif %}
                        <td>{{ transcript.release_id__reference_genome_id__reference_genome }}</td>
                        {% if transcript.default_clinical %}
                            <td><span class="badge text-bg-success">{{ transcript.default_clinical }}</span></td>
                        {% else %}
                            <td>{{ transcript.default_clinical }}</td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script>
    $(document).ready(function () {
        new DataTable('#transcriptTable');
    });
</script>
{% endblock %}